<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head') %>

<body>

    <%- include('../partials/header') %>

    <main>
        <div class="contenedor-edicion-productos">
            <h2 class="">Formulario de edición de productos</h2>
            <form class="formulario-edicion-productos" action="/products/edit/<%= idProducto.product_id %>?_method=PUT"
                method="POST" enctype="multipart/form-data">
                <h3> Modificar la información del producto <%= idProducto.product_name %></h3>
                <div>
                    <label>Nombre del producto:</label>
                    <input class="box" type="text" name="name" id="name" value="<%= idProducto.product_name %>" required>
                </div>
                <div>
                    <label>Categoría:</label>
                    <select class="box" name="category" id="category">
                        <% for (let i = 0; i < productCategory.length; i++){ %>
                        <% if (productCategory[i].product_category_id == idProducto.product_id) { %>
                        <option value="<%=productCategory[i].product_category_id%>" selected>
                            <%=productCategory[i].category_name%>
                        </option>
                        <% } else { %>
                        <option value="<%=productCategory[i].product_category_id%>">
                            <%=productCategory[i].category_name%>
                        </option>
                        <% } %>

                        <% } %>
                    </select>
                </div>
                <div>
                    <label>Descripción:</label>
                    <br>
                    <textarea name="description" id="description" class="box"
                        required><%= idProducto.product_description %></textarea>
                </div>
                <div>
                    <label>Día disponible para la mentoría:</label>
                    <select class="box" name="day" id="day" value="<%= idProducto.product_day %>">
                        <option disabled="disabled">seleccione qué día está disponible la mentoria
                        </option>
                        <option value="Lunes">Lunes</option>
                        <option value="Martes">Martes</option>
                        <option value="Miércoles">Miércoles</option>
                        <option value="Jueves">Jueves</option>
                        <option value="Viernes">Viernes</option>
                        <option value="Sábado">Sábado</option>
                        <option value="Domingo">Domingo</option>
                    </select>
                </div>
                <div>
                    <label>Horario:</label>
                    <select class="box" name="horario" id="horario" value="<%= idProducto.product_time %>">
                        <option disabled="disabled">seleccione el horario</option>
                        <option value="10:00">10:00</option>
                        <option value="14:00">14:00</option>
                        <option value="17:00">17:00</option>
                        <option value="18:00">18:00</option>
                        <option value="21:00">21:00</option>
                        <option value="No Aplica">No Aplica</option>
                    </select>
                </div>
                <div>
                    <label>Precio:</label>
                    <input class="box" type="number" name="price" id="price" value="<%= idProducto.price %>" min="0" required>
                </div>
                <div>
                    <label>Cantidad de horas por Mentoría:</label>
                    <p><input class="box" type="number" name="duration" id="duration" value="<%= idProducto.duration %>" min="0"
                            required>
                </div>
                <div>
                    <label>Mentor:</label>
                    <input class="box" type="text" name="mentor" id="mentor" value="<%= idProducto.mentor_id %>" required>
                </div>
                <div>
                    <label>País del Mentor:</label>
                    <input class="box" type="text" name="mentor_country" id="mentor_country"
                        placeholder="País del mentor" required>
                </div>
                <div>
                    <label>Título del Mentor:</label>
                    <input class="box" type="text" name="mentor_titulo" id="mentor_titulo"
                        placeholder="Título del mentor" required>
                </div>
                <div>
                    <div>
                        <label>Descuento:</label>
                        <input class="box" type="number" name="discount" id="discount" placeholder="Descuento %" min="0"
                            required>
                    </div>
                    <div class="imagen-muestra">
                        <label>Imagen del producto:</label>
                        <br>
                        <img src="/img/products/<%= `${idProducto.product_image}` %>" alt="Imagen del producto">
                    </div>
                    <div>
                        <label>Subir otra imagen del producto:</label>
                        <input class="box" type="file" name="image" id="image" accept=".jpg,.png" value="" multiple>
                    </div>
                    <div class="botones">
                        <button class="enviar" type="submit"><i class="fas fa-plus-circle"></i> Guardar</button>
                        <button class="borrar" type="reset"><i class="fas fa-eraser"></i> Borrar</button>
                    </div>
            </form>
            <div class="boton-cancelar">
                <a href="/products"><i class="fas fa-times"></i> Cancelar</a>
            </div>
        </div>
    </main>
    <%- include('../partials/footer') %>
</body>

</html>