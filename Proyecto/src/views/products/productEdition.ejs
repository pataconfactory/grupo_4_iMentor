<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head') %>

<body>
    
    <%- include('../partials/header') %>

    <main>
        <div class="contenedor-edicion-productos">
            <h2 class="">Formulario de edición de productos</h2>
            <form class="formulario-edicion-productos" action="/products/edit/<%= productoEditar.product_id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                <h3> Modificar la información del producto <%= productoEditar.product_name %></h3>
                    <div>
                        <label>Nombre del producto:</label>
                        <input  class="box" type="text" name="name" id="name" value="<%= productoEditar.product_name %>" required>
                    </div>
                    <div>
                        <label>Descripción:</label>
                        <br>
                        <textarea name="description" id="description" class="box" required><%= productoEditar.product_description %></textarea>
                    </div>
                    <div>
                        <label>Categoría:</label>
                        <select class="box" name="category" id="category" value="">
                            <option disabled="disabled">seleccione la categoría</option>
                            <% for (let i = 0; i < categories.length; i++){ %>
                                <% if (categories[i].product_category_id == productoEditar.product_category_id) { %>
                                <option value="<%=categories[i].product_category_id%>" selected>
                                    <%=categories[i].category_name%>
                                </option>
                                <% } else { %>
                                <option value="<%=categories[i].product_category_id%>">
                                    <%=categories[i].category_name%>
                                </option>
                                <% } %>
                            <% } %>
                        </select>
                    </div>
                    <div>
                        <label>E-mail del mentor:</label>
                        <input class="box" type="email" name="email" id="email" value="<%= productoEditar.users_products.email %>" required>
                    </div>
                    <div>
                        <label>Duración:</label>
                        <p><input class="box"type="number" name="duration" id="duration" value="<%= productoEditar.duration %>" min="0" required>
                    </div> 
                    <div>
                        <label>Horario:</label>
                        <select class="box" name="horario" id="horario" value="<% = productoEditar.time %>" >
                            <option disabled="disabled">seleccione el horario</option>
                            <option value="10:00:00">10:00hs</option>
                            <option value="12:00:00">12:00hs</option>
                            <option value="14:00:00">14:00hs</option>
                            <option value="16:00:00">16:00hs</option>
                            <option value="17:00:00">17:00hs</option>
                            <option value="18:00:00">18:00hs</option>
                            <option value="19:00:00">19:00hs</option>
                            <option value="20:00:00">20:00hs</option>
                            <option value="21:00:00">21:00hs</option>
                        </select>
                    </div>
                    <div>
                        <label>Día:</label>
                        <select class="box" name="dia" id="dia" value="<%= productoEditar.day %>">
                            <option disabled="disabled">seleccione el día</option>
                            <option value="Lunes">Lunes</option>
                            <option value="Martes">Martes</option>
                            <option value="Miércoles">Miércoles</option>
                            <option value="Jueves">Jueves</option>
                            <option value="Viernes">Viernes</option>
                            <option value="Sábado">Sábado</option>
                        </select>
                    </div>
                    <div>
                        <label>Precio:</label>
                        <input class="box" type="number" name="price" id="price" value="<%= productoEditar.price %>" min="0" required>
                    </div>
                    <div class="imagen-muestra">
                        <label>Imagen del producto:</label>
                        <br>
                        <img src="/img/products/<%= `${productoEditar.product_image}` %>" alt="Imagen del producto">
                    </div>  
                    <div>
                        <label>Subir otra imagen del producto:</label>
                        <input class="box" type="file" name="image" id="image" accept=".jpg,.png" value="" multiple> 
                    </div>   
                <div class="botones">
                    <button class="enviar" type="submit"><i class="fas fa-plus-circle"></i> Guardar</button>
                    <button class="borrar" type="reset"><i class="fas fa-eraser"></i> Borrar</button>   
                </div>
            </form>
            <div class="boton-cancelar">
                <a href="/products"><i class="fas fa-times"></i> Cancelar</a>
            </div>
        </div>
    </main>
    <%- include('../partials/footer') %>
</body>
</html>